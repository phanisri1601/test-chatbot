<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IM Solutions Assistant</title>

  <style>
    body {
      margin: 0;
      padding: 0;
      background: #000;
      color: #fff;
      font-family: "Poppins", sans-serif;
      overflow-x: hidden;
    }

    /* âœ… Make chatbot fully visible on all screens */
    iframe.chatbot-widget,
    .chatbot-container,
    #chatbot-container,
    .chatbot-frame {
      position: fixed !important;
      bottom: 0 !important;
      right: 20px !important;
      width: 400px !important;
      height: 600px !important;
      max-height: 80vh !important;
      border: none !important;
      z-index: 999999 !important;
      border-radius: 12px !important;
    }

    /* ðŸ“± Mobile Responsive Fix */
    @media (max-width: 768px) {
      iframe.chatbot-widget,
      .chatbot-container,
      #chatbot-container,
      .chatbot-frame {
        width: 100% !important;
        max-width: 100% !important;
        height: 100vh !important;
        max-height: 100vh !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        top: 0 !important;
        border-radius: 0 !important;
      }

      /* Adjust launcher bubble if present */
      .chatbot-launcher,
      .chatbot-button {
        bottom: 80px !important;
        right: 16px !important;
        transform: scale(0.9);
      }
    }

    /* iPhone safe area fix */
    @supports (padding: env(safe-area-inset-bottom)) {
      iframe.chatbot-widget {
        padding-bottom: env(safe-area-inset-bottom);
      }
    }
  </style>
</head>

<body>

  <!-- âœ… Keep your original chatbot script here exactly as it is -->
  <script 
    src="https://aichatbot-b8883.el.r.appspot.com/static/chatbot-widget.js"
    id="aiscript"
    data-bot-id="im_solutions_bot">
  </script>

  <!-- âœ… Small auto-fix for dynamic resizing -->
  <script>
    window.addEventListener("load", () => {
      const adjustChatbot = () => {
        const frame = document.querySelector("iframe.chatbot-widget");
        if (frame) {
          frame.style.maxWidth = "100%";
          frame.style.width = "100%";
          frame.style.bottom = "0";
          frame.style.left = "0";
          frame.style.borderRadius = "0";
          frame.style.height = "100vh";
        }
      };
      adjustChatbot();

      // Re-adjust when chatbot re-renders
      const observer = new MutationObserver(adjustChatbot);
      observer.observe(document.body, { childList: true, subtree: true });
    });
  </script>

</body>
</html>
